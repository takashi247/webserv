server {
	listen 127.0.0.1:8080;

	server_name 127.0.0.1;
	error_page 404 /2.html;
	location / {
		index 1.html;
		root test/www;
	}
}

server {
	listen localhost:8081;

	server_name localhost;
	location / {
		index 1.html;
		autoindex on;
		root test/www;
	}
	location /autoindex/ {
		autoindex on;
		root test/www;
	}
}

server {
	listen localhost:8082;

	location /cgi-bin/ {
		index hello.cgi;
		root test/www;
		add_cgi_handler cgi;
	}
}

server {
	listen localhost:8083;

	server_name localhost;
	location / {
		rewrite /new1;
		root test/www;
	}
	location /rewrite1/ {
		rewrite /new2/;
		root test/www;
	}
	location /rewrite2 {
		rewrite http://localhost:8082/;
		root /var/www/html;
	}
}

server {
	listen localhost:8083;

	server_name 127.0.0.1;
	client_max_body_size 1;
	location / {
		root test/www;
		http_method GET;
		is_uploadable off;
	}
}

server {
	listen localhost:8083;

	server_name 127.0.0.1;
	client_max_body_size 1;
	location / {
		root test/www;
		http_method GET;
		is_uploadable off;
	}
}
