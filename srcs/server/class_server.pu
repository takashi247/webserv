@startuml

circle          main

class Server
{
	- ConfigManager config_;
	- std::map<int, Socket*> sockets_;
	+ Server(const char *filepath);
}
class Socket
{

}
class ConfigManager
{
	- std::vector<std::pair<int, ServerConfig> > vec_server_config_;
	+ Config(const char *filepath);
	+ ServerConfig *getServerConfig(int port);
	+ std::vector<int> getServerPorts();

}
class ServerConfig
{
	std::vector<LocationConfig> vec_location_config_;
}
class LocationConfig
{

}
class	HttpRequest
{
	std::string method_;
	std::string uri_;
	std::string version_;
	bool is_bad_request_;
}
class	HttpRequestParser
{
	+ HttpRequest *getHttpRequest(std::string recv_msg);
	- e_request getMethodType();
	- std::string getURI();
}

class	HttpResponse
{
	+ HttpResponse(HttpRequest& request, ServerConfig *config);
	+ std::string getResponse();
}


main --> Server : configファイル名
Server o-- ConfigManager : configのこと\n何でも聞ける存在
Server o-- Socket
Server --> HttpRequestParser : リクエストメッセージを渡すと\nHttpRequestを返してくれる
ConfigManager o-- ServerConfig
ServerConfig o-- LocationConfig
Server --> HttpResponse : HttpRequestを渡すと\nレスポンス文字列を返してくれる


@enduml
